GridLayout:
    width: 500
    cols: 2
    cols_minimum: {0: self.width*2/5, 1: self.width*3/5}
    CharacterInfoPane:
    TabbedPanel:
        do_default_tab: False
        SkillsTab:
        InventoryTab:
        PowersTab:


<CharacterInfoPane@GridLayout>:
    rows: 2
    orientation: 'vertical'
    Panel:
        text: 'Character Image\nor\nAbility Scores'
    GridLayout:
        id: 'StatBox'
        rows: 5
        Panel:
            background_color: 1, 0, 0, 0.5
            text: '%s\n%s %s' % (app.player.name, app.player.race, app.player.classes)
        RectangularGuage:
            value: app.player.hp
            max: app.player.hpmax
        Panel:
            background_color: 0, 1, 0, 0.5
            text: app.player.xp
        Panel:
            background_color: 0, 0, 1, 0.5
            text: app.player.hitdice
        GridLayout:
            cols: 3
            Panel:
            Panel:
                background_color: 1, 0, 1, 0.5
                text: app.player.ac
            Panel:
                background_color: 0, 1, 1, 0.5
                text: 'Condition\nSymbols'

<SkillsTab@TabbedPanelItem>:
    text: 'Skills'
    BoxLayout:
        ScrollView:
            TreeTableView:
                data: app.player.skills
        BoxLayout:
            orientation: 'vertical'
            Panel:
                text: 'Miscelaneous Trackers'
            Panel:
                text: 'Proficiencies'
            Panel:
                text: 'Languages'
            Panel:
                text: 'Background'
            Panel:
                text: 'Conditions'

<InventoryTab@TabbedPanelItem>:
    text: 'Inventory'
    BoxLayout:
        orientation: 'vertical'
        ScrollView:
            TreeTableView:
                id: inventory
                data: app.player.inventory
        Panel:
            background_color: 0.3, 0.3, 0.3, 1
            text: 'Whelp.'

<PowersTab@TabbedPanelItem>:
    text: 'Powers'
    BoxLayout:
        orientation: 'vertical'
        Panel:
            text: 'Spell Slots'
        Panel:
            text: 'Trackers (Powers Only)'
        Panel:
            text: app.player.race.powers
        Panel:
            text: 'Class Abilities'
        Panel:
            text: 'Prepared Spells'
        Panel:
            text: 'Weapon Attacks'


<TreeTableView>:
    hide_root: True
    orientation: 'vertical'
    ScrollView:
        TreeView:
            size_hint_y: None

<RectangularGuage@Guage>:
    text: '%d / %d' % (root.value, root.max)
    left_color: 0, 1, 0, 0.5
    right_color: 0, 0, 0, 0.5
    background_color: 0, 0, 0, 0
    on_press: root.decr()
    canvas.before:
        Color:
            rgba: root.right_color
        Rectangle:
            pos: self.pos
            size: self.size
        Color:
            rgba: root.left_color
        Rectangle:
            pos: self.pos
            size: (root.value / root.max * self.size[0], self.size[1])
